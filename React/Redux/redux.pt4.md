Goal: ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ stateë¥¼ ìˆ˜ì •í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤.
#Actions, Dispatch, Reducer

## 0. _ë¦¬ë•ìŠ¤ì˜ íë¦„ ë„ì‹í™”_

![picture](https://d33wubrfki0l68.cloudfront.net/01cc198232551a7e180f4e9e327b5ab22d9d14e7/b33f4/assets/images/reduxdataflowdiagram-49fa8c3968371d9ef6f2a1486bd40a26.gif)

1. View ì—ì„œ ì•¡ì…˜ì´ ì¼ì–´ë‚œë‹¤.

2. dispatch ì—ì„œ actionì´ ì¼ì–´ë‚˜ê²Œ ëœë‹¤.

3. actionì— ì˜í•œ reducer í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê¸° ì „ì— middlewareê°€ ì‘ë™í•œë‹¤.

4. middleware ì—ì„œ ëª…ë ¹ë‚´ë¦° ì¼ì„ ìˆ˜í–‰í•˜ê³  ë‚œë’¤, reducer í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œë‹¤. (3, 4ë²ˆì€ ì•„ì§ ëª°ë¼ë„ ë©ë‹ˆë‹¤!)

5. reducer ì˜ ì‹¤í–‰ê²°ê³¼ storeì— ìƒˆë¡œìš´ ê°’ì„ ì €ì¥í•œë‹¤.

6. storeì˜ stateì— subscribe í•˜ê³  ìˆë˜ UIì— ë³€ê²½ëœ ê°’ì„ ì¤€ë‹¤.

- ì¶œì²˜ : [https://velog.io/@annahyr/ë¦¬ë•ìŠ¤-íë¦„-ì´í•´í•˜ê¸°](https://velog.io/@annahyr/%EB%A6%AC%EB%8D%95%EC%8A%A4-%ED%9D%90%EB%A6%84-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0)

## 1. `counter.js` ëª¨ë“ˆì˜ state ìˆ˜ì • ê¸°ëŠ¥ ë§Œë“¤ê¸° (`+ 1` ê¸°ëŠ¥ êµ¬í˜„í•´ë³´ê¸°)

- (1) **ì–´ë–»ê²Œ counter.js ëª¨ë“ˆì— ìˆëŠ” stateì˜ ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆì„ê¹Œ?**
  ìš°ë¦¬ê°€ `useState()`ë¥¼ ì‚¬ìš©í•´ì„œ `number`ì— +1ì„ í•  ë•ŒëŠ” `setNumber`ì„ ì´ìš©í•´ì„œ +1ì„ í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.

  ```jsx
  // ì˜ˆì‹œ ì½”ë“œ

  // local state
  const [number, setNumber] = useState(0);

  // click handler
  const onClickHandler = () => {
    setNumber(number + 1);
  };
  ```

  ë¦¬ë•ìŠ¤ì—ì„œëŠ” ì–´ë–»ê²Œ ê°’ì´ ìˆ˜ì •ëœë‹¤ê³  í–ˆì—ˆë‚˜ìš”? ê·¸ë ‡ìŠµë‹ˆë‹¤. ê°’ì˜ ìˆ˜ì •ì€ **ë¦¬ë“€ì„œì—ì„œ ì¼ì–´ë‚œë‹¤ê³  ì•ì„œ ë°°ì› ìŠµë‹ˆë‹¤. (part 3)**
  ê·¸ëŸ¼ ìš°ë¦¬ê°€ ë§Œì•½ì— counter.js ëª¨ë“ˆì— ìˆëŠ” numberì— +1ì„ í•˜ê³  ì‹¶ìœ¼ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œìš”?
  ì•„ë˜ì™€ ê°™ì´ í•´ì•¼ í•©ë‹ˆë‹¤.

  1. ë¦¬ë“€ì„œì—ê²Œ ë³´ë‚¼ numberë¥¼ +1 í•˜ë¼ëŠ” â€œëª…ë ¹â€ì„ ë§Œë“ ë‹¤.
  2. ëª…ë ¹ì„ ë³´ë‚¸ë‹¤.
  3. ë¦¬ë“€ì„œì—ì„œ ëª…ë ¹ì„ ë°›ì•„ number +1ì„ í•œë‹¤.

- **(2) ë¦¬ë“€ì„œì—ê²Œ ë³´ë‚¼ â€œëª…ë ¹â€ ë§Œë“¤ê¸°**
  ìš°ì„  ìš°ë¦¬ëŠ” ë¦¬ë“€ì„œì—ê²Œ numberì— +1ì„ í•˜ë¼ê³  ëª…ë ¹ì„ ë³´ë‚´ì•¼ê² ì£ . ëª…ë ¹ì„ ë³´ë‚´ê¸° ì „ì— â€˜ëª…ë ¹'ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. ë¦¬ë•ìŠ¤ì—ì„œëŠ” ê·¸ ëª…ë ¹ì„ Action ì´ë¼ê³  í•©ë‹ˆë‹¤. ì¦‰, ë¦¬ë“€ì„œì—ê²Œ ë‚´ê°€ ì–´ë–¤ Actionì„ í•˜ê¸¸ ì›í•œë‹¤. ë¼ê³  í‘œí˜„í•˜ëŠ” ê²ƒì´ì£ . í–‰ë™ì„ ì½”ë“œë¡œ ë‚˜íƒ€ë‚´ë©´ `ê°ì²´` ë¡œ ë§Œë“­ë‹ˆë‹¤. ê·¸ë˜ì„œ ì´ê²ƒì„ **ì•¡ì…˜ ê°ì²´** ë¼ê³  í•©ë‹ˆë‹¤.
  **ì•¡ì…˜ ê°ì²´ëŠ” ë°˜ë“œì‹œ typeì´ë¼ëŠ” `key`ë¥¼ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´ ìš°ë¦¬ê°€ ì´ ì•¡ì…˜ ê°ì²´ë¥¼ ë¦¬ë“€ì„œì—ê²Œ ë³´ëƒˆì„ ë•Œ ë¦¬ë“€ì„œëŠ” ê°ì²´ ì•ˆì—ì„œ typeì´ë¼ëŠ” keyë¥¼ ë³´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.**

  ```jsx
  // ì˜ˆì‹œ ì½”ë“œ
  //numberì— +1 ì„ í•˜ëŠ” ì•¡ì…˜ ê°ì²´

  {
    type: "PLUS_ONE";
  }
  ```

  ì•ìœ¼ë¡œ ìš°ë¦¬ëŠ” ë¦¬ë•ìŠ¤ ëª¨ë“ˆì— ìˆëŠ” stateì„ ë³€ê²½í•˜ê¸° ìœ„í•´ì„œëŠ” ê·¸ì— í•´ë‹¹í•˜ëŠ” ì•¡ì…˜ ê°ì²´ë¥¼ ëª¨ë‘ ë§Œë“¤ì–´ì¤˜ì•¼ í•©ë‹ˆë‹¤.

- **(3) â€œëª…ë ¹â€(ì•¡ì…˜ ê°ì²´) ë³´ë‚´ê¸°**
  ì´ì œ ëª…ë ¹ì„ ë§Œë“¤ì—ˆìœ¼ë‹ˆ, ìš°ë¦¬ëŠ” ë¦¬ë“€ì„œì—ê²Œ ëª…ë ¹ì„ ë³´ë‚´ì•¼ í•©ë‹ˆë‹¤. ì¡°ê¸ˆ ë” ì •í™•í•˜ê²Œ í‘œí˜„í•˜ê²Œ ìœ„í•´ì„œ ì§€ê¸ˆë¶€í„°ëŠ” â€œëª…ë ¹"ì´ ì•„ë‹Œ ì•¡ì…˜ê°ì²´ë¼ê³  í‘œí˜„í•˜ê² ìŠµë‹ˆë‹¤.
  ì•¡ì…˜ê°ì²´ë¥¼ ë³´ë‚´ê¸° ë¦¬ë“€ì„œë¡œ ë³´ë‚´ê¸°ìœ„í•´ì„œëŠ” ìƒˆë¡œìš´ í›…ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ í›…ì€ `useDispatch`ë¼ëŠ” í›… ì…ë‹ˆë‹¤. react-reduxì—ì„œ import í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ìš°ë¦¬ê°€ ë§Œë“  ì•¡ì…˜ ê°ì²´ë¥¼ ë¦¬ë“€ì„œë¡œ ë³´ë‚´ì£¼ëŠ” ì—­í• ì„ í•˜ëŠ” í›…ì…ë‹ˆë‹¤.
  `useDispatch`ë¼ëŠ” í›…ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ì•„ë˜ì™€ ê°™ì´ ë¨¼ì € ì½”ë“œë¥¼ ì‘ì„±í•´ì„œ `dispatch`ë¼ëŠ” ë³€ìˆ˜ë¥¼ ìƒì„±í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. **ì´ë ‡ê²Œ ìƒì„±í•œ dispatchëŠ” `í•¨ìˆ˜` ë¼ëŠ” ì ì„ ê¸°ì–µí•˜ì„¸ìš”! ê·¸ë˜ì„œ ìš°ë¦¬ëŠ” dispatchë¥¼ ì‚¬ìš©í•  ë•Œ `()` ë¥¼ ë¶™ì—¬ì„œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.**

  ```jsx
  // src/App.js

  import React from "react";
  import { useDispatch } from "react-redux"; // import í•´ì£¼ì„¸ìš”.

  const App = () => {
    const dispatch = useDispatch(); // dispatch ìƒì„±
    return (
      <div>
        <button>+ 1</button> {/* ë²„íŠ¼ì„ í•˜ë‚˜ ì¶”ê°€í•´ì£¼ì„¸ìš”. */}
      </div>
    );
  };

  export default App;
  ```

  ê·¸ë¦¬ê³  dispatchë¥¼ ì‚¬ìš©í•  ë•Œ ( ) ì•ˆì— ì•¡ì…˜ê°ì²´ë¥¼ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤. ë§Œì•½ ì–´ë–¤ ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ ë¦¬ë“€ì„œë¡œ ì•¡ì…˜ê°ì²´ë¥¼ ë³´ë‚´ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

  ```jsx
  // src/App.js

  import React from "react";
  import { useDispatch } from "react-redux"; // import í•´ì£¼ì„¸ìš”.

  const App = () => {
    const dispatch = useDispatch(); // dispatch ìƒì„±
    return (
      <div>
        <button
          // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì¶”ê°€
          onClick={() => {
            // ë§ˆìš°ìŠ¤ë¥¼ í´ë¦­í–ˆì„ ë•Œ dispatchê°€ ì‹¤í–‰ë˜ê³ , ()ì•ˆì— ìˆëŠ” ì•¡ì…˜ê°ì²´ê°€ ë¦¬ë“€ì„œë¡œ ì „ë‹¬ëœë‹¤.
            dispatch({ type: "PLUS_ONE" });
          }}
        >
          + 1
        </button>
      </div>
    );
  };

  export default App;
  ```

  ì, ì´ë ‡ê²Œ ìš°ë¦¬ëŠ” **ë””ìŠ¤íŒ¨ì¹˜ë¥¼ ì´ìš©í•´ì„œ ì•¡ì…˜ê°ì²´ë¥¼ ë¦¬ë“€ì„œë¡œ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.** **ë§Œì•½ì—** ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ëì„ ë•Œ ì•¡ì…˜ê°ì²´ë¥¼ ë¦¬ë“€ì„œë¡œ ë³´ë‚´ê³  ì‹¶ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”? í•œë²ˆ ê³ ë¯¼í•´ë³´ì‹œê¸¸ ë°”ëë‹ˆë‹¤.

- **(4) ì•¡ì…˜ ê°ì²´ ë°›ê¸°**
  ìš°ë¦¬ê°€ (3)ì—ì„œ ë¦¬ë“€ì„œë¡œ ì•¡ì…˜ì„ ë³´ë‚´ê¸´ ë³´ëƒˆì§€ë§Œ, ë¬´ì–¸ê°€ ëˆˆìœ¼ë¡œ ë³´ì´ëŠ”ê²Œ ì—†ìœ¼ë‹ˆ ì´ê²Œ ì§€ê¸ˆ ì˜ ëœê±´ê°€? ê¶ê¸ˆí•˜ì§€ ì•Šìœ¼ì‹ ê°€ìš”? ìš°ë¦¬ê°€ ì•¡ì…˜ê°ì²´ë¥¼ ë¦¬ë“€ì„œë¡œ ë³´ëƒˆìœ¼ë‹ˆ, ë¦¬ë“€ì„œì—ì„œ ì•¡ì…˜ê°ì²´ê°€ ì˜ ì™”ëŠ”ì§€ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.
  ì•„ë§ˆ í˜„ì¬ counter.js ëª¨ë“ˆì˜ ì½”ë“œê°€ ì´ëŸ° ìƒíƒœ ì¼ ê²ƒ ì…ë‹ˆë‹¤. ì½”ë“œë¥¼ ìˆ˜ì •í•´ë³¼ ê²ƒì¸ë°ìš”. **ìš°ë¦¬ê°€ App.jsì—ì„œ ë³´ë‚¸ ì•¡ì…˜ê°ì²´ë¥¼ ë°›ì„ ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•´ë³¼ ê²ƒ ì…ë‹ˆë‹¤.**

  ```jsx
  // src/redux/modules/counter.js

  // ì´ˆê¸° ìƒíƒœê°’
  const initialState = {
    number: 0,
  };

  // ë¦¬ë“€ì„œ
  const counter = (state = initialState, action) => {
    switch (action.type) {
      default:
        return state;
    }
  };

  // ëª¨ë“ˆíŒŒì¼ì—ì„œëŠ” ë¦¬ë“€ì„œë¥¼ export default í•œë‹¤.
  export default counter;
  ```

  ë¦¬ë“€ì„œì— actionì„ ì½˜ì†”ë¡œ ì°ì–´ë³´ê² ìŠµë‹ˆë‹¤.

  ```jsx
  // src/redux/modules/counter.js

  // ì´ˆê¸° ìƒíƒœê°’
  const initialState = {
    number: 0,
  };

  // ë¦¬ë“€ì„œ
  const counter = (state = initialState, action) => {
    console.log(action); // ì—¬ê¸°ì— console.log(action) ì¶”ê°€
    switch (action.type) {
      default:
        return state;
    }
  };

  // ëª¨ë“ˆíŒŒì¼ì—ì„œëŠ” ë¦¬ë“€ì„œë¥¼ export default í•œë‹¤.
  export default counter;
  ```

  ê·¸ë¦¬ê³  ë‹¤ì‹œ App.jsë¡œ ëŒì•„ê°€ì„œ ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ë²„íŠ¼ì„ í´ë¦­í•´ë³¼ê¹Œìš”? ì•„ë˜ ì˜ìƒì²˜ëŸ¼ counter.js ì—ì„œ ì½˜ì†”ë¡œ ì°ì€ actionì´ ë³´ì´ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. **ë¦¬ë“€ì„œìˆëŠ” actionì€ ìš°ë¦¬ê°€ App.jsì—ì„œ dispatchë¡œ ë³´ë‚¸ ê·¸ ì•¡ì…˜ê°ì²´ì„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì½˜ì†”ì— ë³´ì´ëŠ” ìœ„ 3ì¤„ ì½”ë“œëŠ” ë¬´ì‹œí•˜ì…”ë„ ë©ë‹ˆë‹¤)**
  [á„’á…ªá„†á…§á†« á„€á…µá„…á…©á†¨ 2022-07-24 á„‹á…©á„Œá…¥á†« 2.37.35.mov](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3af9f225-230d-47b4-ad79-fcdeedd0dcdb/%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%E1%84%80%E1%85%B5%E1%84%85%E1%85%A9%E1%86%A8_2022-07-24_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_2.37.35.mov)
  ì ì´ë ‡ê²Œ, App.jsì—ì„œ ìš°ë¦¬ê°€ dispatchë¥¼ í†µí•´ì„œ ë³´ë‚¸ ì•¡ì…˜ê°ì²´ê°€ ë¦¬ë“€ì„œë¡œ ì˜ ë“¤ì–´ê°€ê³  ìˆìŒì„ ëˆˆìœ¼ë¡œ ì§ì ‘ í™•ì¸í–ˆìŠµë‹ˆë‹¤.

- **(5) ì•¡ì…˜ê°ì²´ ëª…ë ¹ëŒ€ë¡œ ë¦¬ë“€ì„œê°€ stateê°’ì„ ë³€ê²½í•˜ëŠ” ì½”ë“œ êµ¬í˜„í•˜ê¸°**
  ì´ì œ ì•¡ì…˜ê°ì²´ë¥¼ ì˜ ë³´ë‚´ê³ , ì˜ ë°›ê³  ìˆìŒì„ í™•ì¸í–ˆìœ¼ë‹ˆ stateì— ìˆëŠ” numberë¥¼ ì‹¤ì œë¡œ ë³€ê²½í•˜ëŠ” ë¡œì§ ì½”ë“œë¥¼ êµ¬í˜„í•´ë³¼ê²Œìš”. ë¡œì§ì½”ë“œëŠ” ë¦¬ë“€ì„œ ì•ˆì— ìˆëŠ” ìŠ¤ìœ„ì¹˜ë¬¸ìœ¼ë¡œ ì‘ì„±ë©ë‹ˆë‹¤.
  ë¦¬ë“€ì„œê°€ ì•¡ì…˜ê°ì²´ë¥¼ ë°›ì•„ ìƒíƒœë¥¼ ë°”ê¾¸ëŠ” ì›ë¦¬ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

  1. ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° dispatchë¥¼ í†µí•´ ì•¡ì…˜ê°ì²´ë¥¼ ì „ë‹¬ ë°›ëŠ”ë‹¤.
  2. action ì•ˆì— ìˆëŠ” typeì„ ìŠ¤ìœ„ì¹˜ë¬¸ì„ í†µí•´ í•˜ë‚˜ì”© ê²€ì‚¬í•´ì„œ, ì¼ì¹˜í•˜ëŠ” caseë¥¼ ì°¾ëŠ”ë‹¤.
  3. typeê³¼ caseê°€ ì¼ì¹˜í•˜ëŠ” ê²½ìš°ì—, í•´ë‹¹ ì½”ë“œê°€ ì‹¤í–‰ë˜ê³  ìƒˆë¡œìš´ stateë¥¼ ë°˜í™˜(return) í•œë‹¤.
  4. ë¦¬ë“€ì„œê°€ ìƒˆë¡œìš´ stateë¥¼ ë°˜í™˜í•˜ë©´, ê·¸ê²Œ ìƒˆë¡œìš´ ëª¨ë“ˆì˜ stateê°€ ëœë‹¤.
     ìš°ë¦¬ê°€ (4)ì—ì„œ `1. ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° dispatchë¥¼ í†µí•´ ì•¡ì…˜ê°ì²´ë¥¼ ì „ë‹¬ ë°›ëŠ”ë‹¤.` ê¹Œì§€ êµ¬í˜„í–ˆìœ¼ë‹ˆ, 2~4ë¥¼ í•œë²ˆ ì§ì ‘ ì½”ë“œë¡œ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.

  ```jsx
  // src/modules/counter.js

  // ì´ˆê¸° ìƒíƒœê°’
  const initialState = {
    number: 0,
  };

  // ë¦¬ë“€ì„œ
  const counter = (state = initialState, action) => {
    console.log(action);
    switch (action.type) {
      // PLUS_ONEì´ë¼ëŠ” caseë¥¼ ì¶”ê°€í•œë‹¤.
      // ì—¬ê¸°ì„œ ë§í•˜ëŠ” caseë€, action.typeì„ ì˜ë¯¸í•œë‹¤.
      // dispatchë¡œë¶€í„° ì „ë‹¬ë°›ì€ actionì˜ typeì´ "PLUS_ONE" ì¼ ë•Œ
      // ì•„ë˜ return ì ˆì´ ì‹¤í–‰ëœë‹¤.
      case "PLUS_ONE":
        return {
          // ê¸°ì¡´ stateì— ìˆë˜ numberì— +1ì„ ë”í•œë‹¤.
          number: state.number + 1,
        };

      default:
        return state;
    }
  };

  // ëª¨ë“ˆíŒŒì¼ì—ì„œëŠ” ë¦¬ë“€ì„œë¥¼ export default í•œë‹¤.
  export default counter;
  ```

  actionì´ `{type: â€œPLUS_ONEâ€}` ì´ê¸° ë•Œë¬¸ì—, ë¦¬ë“€ì„œ ì•ˆì— ìˆëŠ” ìŠ¤ìœ„ì¹˜ë¬¸ì€ action.typeì„ ì¡°íšŒí•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ê²ƒì´ ì¼ì¹˜í•˜ë©´ `return` ì ˆì´ ì‹¤í–‰ë˜ê³  ìƒˆë¡œìš´ stateë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ë§‰ìƒ ê¸€ë¡œ ë³´ë©´ ë³µì¡í•´ë³´ì˜€ì§€ë§Œ, ì½”ë“œë¡œ ë³´ë©´ ìŠ¤ìœ„ì¹˜ë¬¸ì— caseë¥¼ í•˜ë‚˜ ì¶”ê°€í•´ì£¼ëŠ” ê²ƒìœ¼ë¡œ ì™„ë£Œë©ë‹ˆë‹¤.
  ì, ì´ì œ ìš°ë¦¬ê°€ dispatchë¥¼ í†µí•´ ì•¡ì…˜ê°ì²´ë¥¼ App.js ì»´í¬ë„ŒíŠ¸ì—ì„œ ë³´ëƒˆê³ , ê·¸ê²ƒì„ ë¦¬ë“€ì„œì—ì„œ ë°›ì•„ ìŠ¤ìœ„ì¹˜ë¬¸ì„ í†µí•´ ì¡°ê±´ì„ ì°¾ì•˜ê³ , ê·¸ì— í•´ë‹¹í–ˆì„ ë•Œ stateê°’ì„ ë³€ê²½í•˜ëŠ” ë¡œì§ê¹Œì§€ ëª¨ë‘ êµ¬í˜„í–ˆìœ¼ë‹ˆ í•œë²ˆ ì •ë§ stateê°€ ì˜ ë³€ê²½ë˜ëŠ”ì§€ í™•ì¸í•´ë´…ì‹œë‹¤.

- **(6) useSelectorë¡œ ë³€ê²½ëœ stateê°’ í™•ì¸í•˜ê¸°**
  ìš°ë¦¬ê°€ ì „ ì±•í„°ì—ì„œ ë°°ìš´ useSelectorë¥¼ ì´ìš©í•´ì„œ App.jsì—ì„œ stateê°’ì„ ì¡°íšŒí•´ë´…ì‹œë‹¤. App.jsë¡œ ì´ë™í•´ì„œ useSelectorë¥¼ ì‘ì„±í•˜ê³ , numberë¥¼ ì½˜ì†”ì— ì°ì–´ë´…ì‹œë‹¤. ê·¸ë¦¬ê³  numberë¥¼ í™”ë©´ì—ë„ ë Œë”ë§ í•´ë´…ë‹ˆë‹¤.

  ```jsx
  // src/App.js

  import React from "react";
  import { useDispatch, useSelector } from "react-redux";

  const App = () => {
    const dispatch = useDispatch();

    // ğŸ‘‡ ì½”ë“œ ì¶”ê°€
    const number = useSelector((state) => state.counter.number);

    console.log(number); // ì½˜ì†” ì¶”ê°€
    return (
      <div>
        {/* ğŸ‘‡ ì½”ë“œ ì¶”ê°€ */}
        {number}
        <button
          onClick={() => {
            dispatch({ type: "PLUS_ONE" });
          }}
        >
          + 1
        </button>
      </div>
    );
  };

  export default App;
  ```

  ìš°ë¦¬ê°€ ì˜ë„í•œëŒ€ë¡œ ë²„íŠ¼ì„ ëˆ„ë¥¼ë•Œë§ˆë‹¤ numberê°€ 1ì”© ì¦ê°€ëŠ” ê²ƒì„ í™”ë©´ì—ì„œë„, ì½˜ì†”ì—ì„œë„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ë¦¬ë“€ì„œì— ì‘ì„±í•´ë‘” `console.log(action)` ìœ¼ë¡œ ì¸í•´ ìš°ë¦¬ê°€ ë²„íŠ¼ì„ í´ë¦­í•  ë•Œë§ˆë‹¤ ìš°ë¦¬ê°€ ë””ìŠ¤íŒ¨ì¹˜í•œ ì•¡ì…˜ë„ ë³´ì´ë„¤ìš”.
  ë”ë¶ˆì–´, useStateì—ì„œ ë§Œë“  stateê°€ ë³€ê²½ë˜ë©´ í™”ë©´ì´ ë¦¬ë Œë”ë§ë˜ëŠ” ê²ƒê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, ë¦¬ë•ìŠ¤ì— ì¡´ì¬í•˜ëŠ” stateë„ ê°’ì´ ë³€ê²½ë˜ë©´ useSelectorë¥¼ í•˜ê³  ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë“¤ë„ ëª¨ë‘ ë‹¤ì‹œ ë¦¬ë Œë”ë§ë©ë‹ˆë‹¤. ê·¸ë˜ì„œ í™”ë©´ìƒì—ì„œë„ 0 â†’ 1 â†’ 2 ì™€ ê°™ì´ ì¦ê°€í•˜ëŠ” ê²ƒì´ ë³´ì´ëŠ” ê²ƒ ì…ë‹ˆë‹¤.

## 2. `- 1` ê¸°ëŠ¥ ë¹ ë¥´ê²Œ êµ¬í˜„í•´ë³´ê¸°

ë¹¼ê¸° 1 ê¸°ëŠ¥ë„ ìœ„ì™€ ë™ì¼í•œ ê³¼ì •ìœ¼ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤. ì•„ë˜ ì½”ë“œë¥¼ í†µí•´ í•œë²ˆ êµ¬í˜„í•´ë´…ì‹œë‹¤.

- **(1) -1 ë²„íŠ¼ êµ¬í˜„**
  ë¹¼ê¸° ë²„íŠ¼ì„ ì¶”ê°€ í•©ë‹ˆë‹¤.

  ```jsx
  // src/App.js

  import React from "react";
  import { useDispatch, useSelector } from "react-redux";

  const App = () => {
    const dispatch = useDispatch();
    const number = useSelector((state) => state.counter.number);

    return (
      <div>
        {number}
        <button
          onClick={() => {
            dispatch({ type: "PLUS_ONE" });
          }}
        >
          + 1
        </button>

        {/* ë¹¼ê¸° ë²„íŠ¼ ì¶”ê°€ */}
        <button>- 1</button>
      </div>
    );
  };

  export default App;
  ```

- **(2) ì•¡ì…˜ê°ì²´ ë””ìŠ¤íŒ¨ì¹˜í•˜ê¸°**
  ë²„íŠ¼ì˜ ì´ë²¤íŠ¸í•¸ë“¤ëŸ¬ì— dispatchì™€ ì•¡ì…˜ê°ì²´ë¥¼ ë„£ì–´ì¤ë‹ˆë‹¤.

  ```jsx
  // src/App.js

  import React from "react";
  import { useDispatch, useSelector } from "react-redux";

  const App = () => {
    const dispatch = useDispatch();
    const number = useSelector((state) => state.counter.number);

    return (
      <div>
        {number}
        <button
          onClick={() => {
            dispatch({ type: "PLUS_ONE" });
          }}
        >
          + 1
        </button>
        <button
          onClick={() => {
            // ì•¡ì…˜ê°ì²´ ë””ìŠ¤íŒ¨ì¹˜
            dispatch({ type: "MINUS_ONE" });
          }}
        >
          - 1
        </button>
      </div>
    );
  };

  export default App;
  ```

- **(3) ë¦¬ë“€ì„œ ë¡œì§ êµ¬í˜„**
  ìŠ¤ìœ„ì¹˜ë¬¸ì— caseë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

  ```jsx
  // src/modules/counter.js

  // ì´ˆê¸° ìƒíƒœê°’
  const initialState = {
    number: 0,
  };

  // ë¦¬ë“€ì„œ
  const counter = (state = initialState, action) => {
    switch (action.type) {
      case "PLUS_ONE":
        return {
          number: state.number + 1,
        };

      // action.typeì´ MINUS_ONE ì¼ ë•Œ ìƒˆë¡œìš´ state ë°˜í™˜
      case "MINUS_ONE":
        return {
          number: state.number - 1,
        };
      default:
        return state;
    }
  };

  // ëª¨ë“ˆíŒŒì¼ì—ì„œëŠ” ë¦¬ë“€ì„œë¥¼ export default í•œë‹¤.
  export default counter;
  ```

- **(4) ê¸°ëŠ¥ êµ¬í˜„ í™•ì¸**
  êµ¬í˜„ì´ ëª¨ë‘ ëë‚¬ìŠµë‹ˆë‹¤. ì˜ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•´ë³¼ê¹Œìš”?

## 3. ì •ë¦¬

- ì•¡ì…˜ê°ì²´ë€, ë°˜ë“œì‹œ typeì´ë€ keyë¥¼ ê°€ì ¸ì•¼ í•˜ëŠ” ê°ì²´ì´ë‹¤. ë˜í•œ ë¦¬ë“€ì„œë¡œ ë³´ë‚¼ â€œëª…ë ¹"ì´ë‹¤.
- ë””ìŠ¤íŒ¨ì¹˜ë€, ì•¡ì…˜ê°ì²´ë¥¼ ë¦¬ë“€ì„œë¡œ ë³´ë‚´ëŠ” â€œì „ë‹¬ìâ€ í•¨ìˆ˜ì´ë‹¤.
- ë¦¬ë“€ì„œë€, ë””ìŠ¤íŒ¨ì¹˜ë¥¼ í†µí•´ ì „ë‹¬ë°›ì€ ì•¡ì…˜ê°ì²´ë¥¼ ê²€ì‚¬í•˜ê³ , ì¡°ê±´ì´ ì¼ì¹˜í–ˆì„ ë•Œ ìƒˆë¡œìš´ ìƒíƒœê°’ì„ ë§Œë“¤ì–´ë‚´ëŠ” â€œë³€í™”ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ”" í•¨ìˆ˜ì´ë‹¤.
- ë””ìŠ¤íŒ¨ì¹˜(dispatch)ë¥¼ ì‚¬ìš©í•˜ê¸°ìœ„í•´ì„œëŠ” useDispatch() ë¼ëŠ” í›…ì„ ì´ìš©í•´ì•¼ í•œë‹¤.
  - ë””ìŠ¤íŒ¨ì¹˜ëŠ” ìŠ¤í† ì–´ì˜ ë‚´ì¥í•¨ìˆ˜ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.
  - ìš°ì„ , ë””ìŠ¤íŒ¨ì¹˜ëŠ” ì•¡ì…˜ì„ ë°œìƒ ì‹œí‚¤ëŠ” ê²ƒ ì •ë„ë¡œ ì´í•´í•˜ì‹œë©´ ë©ë‹ˆë‹¤.
  - dispatch ë¼ëŠ” í•¨ìˆ˜ì—ëŠ” ì•¡ì…˜ì„ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.. dispatch(action) ì´ëŸ°ì‹ìœ¼ë¡œ ë§ì´ì£ .
- ì•¡ì…˜ê°ì²´ typeì˜ valueëŠ” ëŒ€ë¬¸ìë¡œ ì‘ì„±í•œë‹¤. (JSì—ì„œ ìƒìˆ˜ëŠ” ëŒ€ë¬¸ìë¡œ ì‘ì„±í•˜ëŠ” ë£°ì´ ìˆìŒ)
